webpackJsonp([87],{"x+rv":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Dd8w"),a=o.n(n),i=o("2sLL"),s=o("ABCa"),c=o("1sNz"),l=o("rHil"),r=o("1DHf"),d=o("7Ah8"),h=o("jOlP"),u=o("NYxO"),p=o("UgXb"),g=o("xJtg"),f={name:"index",components:{XButton:i.a,XHeader:s.a,ViewBox:c.a,Group:l.a,Cell:r.a,PopupPicker:d.a,Spinner:h.a,Share:g.a,gnbChangeSub:p.a},computed:a()({},Object(u.mapGetters)(["DownloadGood"])),data:function(){return{loading:!0,error:!1,showAction:!1,subject:"2",share:{content:"",title:"我的精选题",href:""}}},methods:a()({},Object(u.mapActions)(["getDownloadGood","clearDownload"]),{_download:function(t){this.share.href=t.url,this.share.content=t.name,this.showAction=!0},_getData:function(){var t=this;this.clearDownload({type:"good"}),this.loading=!0,this.getDownloadGood({subject:this.subject}).then(function(){t.error=!1,t.loading=!1}).catch(function(e){t.error=!0,t.loading=!1})}}),watch:{subject:function(){this._getData()}},beforeRouteEnter:function(t,e,o){o(function(t){"download"===e.name&&t._getData()})},beforeRouteLeave:function(t,e,o){this.showAction?(this.showAction=!1,o(!1)):o()}},w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view-box",{ref:"about",attrs:{"body-padding-top":"46px"}},[o("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"精选题"}},slot:"header"},[o("div",{staticStyle:{margin:"0"},attrs:{slot:"right"},slot:"right"},[o("gnbChangeSub",{attrs:{change:t.subject},on:{"update:change":function(e){t.subject=e}}})],1)]),t._v(" "),o("div",[o("group",{directives:[{name:"show",rawName:"v-show",value:t.DownloadGood.list.length,expression:"DownloadGood.list.length"}],attrs:{gutter:0,title:"只展示最近一个月的试卷"}},t._l(t.DownloadGood.list,function(e,n){return o("cell",{key:n,attrs:{title:e.name}},[o("div",{staticStyle:{color:"#4cc0be"},attrs:{slot:"value"},slot:"value"},[o("span",{staticStyle:{padding:"0 5px","line-height":"24px"},on:{click:function(o){t._download(e)}}},[o("i",{staticClass:"icon iconfont icon-download",staticStyle:{"font-size":"16px"}}),t._v("下载\n          ")])])])})),t._v(" "),o("div",{staticStyle:{"text-align":"center",padding:"10px 0"}},[t.loading?o("spinner",{attrs:{type:"lines"}}):t.DownloadGood.list.length?t.error?o("p",{staticStyle:{"font-size":"16px",color:"#4cc0be"},on:{click:function(e){t._getData()}}},[t._v("出错了点我重新加载")]):t._e():o("p",{staticStyle:{"font-size":"16px",color:"#4cc0be"}},[t._v("近一月还未有下载记录")])],1)],1),t._v(" "),o("share",{attrs:{change:t.showAction,showAction:t.showAction,content:t.share.content,title:t.share.title,href:t.share.href},on:{"update:change":function(e){t.showAction=e}}})],1)},b=[],v={render:w,staticRenderFns:b},x=v,_=o("VU/8"),D=_(f,x,!1,null,null,null);e.default=D.exports}});