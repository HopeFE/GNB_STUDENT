webpackJsonp([33],{"4qcF":function(t,e,i){"use strict";function o(t){i("diim")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),n=i.n(a),s=i("YxJB"),r=i("3Lt7"),l=i("1HIy"),c=i("ABCa"),p=i("1sNz"),m=i("2FOq"),d=i("63CM"),u=i.n(d),f=i("NYxO"),g={name:"want",components:{XHeader:c.a,ViewBox:p.a,Flexbox:s.a,FlexboxItem:r.a,GroupTitle:l.a,Previewer:m.a},computed:n()({},Object(f.mapGetters)(["myBookWant"])),directives:{TransferDom:u.a},data:function(){return{small:["http://img.guinaben.com/want2.png?imageView2/2/w/270/h/480/format/jpg/q/75|imageslim","http://img.guinaben.com/want1.jpg?imageView2/2/w/270/h/480/format/jpg/q/75|imageslim"],list:[{src:"http://img.guinaben.com/want2.png?imageView2/2/w/960/h/1280/format/jpg/q/75",w:960,h:1280},{src:"http://img.guinaben.com/want1.jpg?imageView2/2/w/960/h/1280/format/jpg/q/75",w:960,h:1280}],options:{preload:[1,1],bgOpacity:1,fullscreenEl:!1,history:!0}}},methods:n()({},Object(f.mapActions)(["myBookWantDel","myBookCamera","myBookWantUpload"]),{_add:function(t){var e=this;plus.camera.getCamera().captureImage(function(i){plus.io.resolveLocalFileSystemURL(i,function(i){e.myBookCamera(i.toLocalURL()),e.$router.push({name:"myBook_want_photo",query:{type:t}})})})},_del:function(t){this.myBookWantDel(t)},_show:function(t){var e=this;this.$nextTick(function(){e.$refs.previewer.show(t)})},_upload:function(){this.myBookWant.index?this.myBookWant.version?this.myBookWantUpload().then(function(){history.go(-1)}):this.$vux.toast.show({text:"请上传习题册版次",type:"text",time:1500,position:"bottom"}):this.$vux.toast.show({text:"请上传习题册封面",type:"text",time:1500,position:"bottom"})}}),beforeRouteEnter:function(t,e,i){i(function(t){"myBook_add"===e.name&&(t.myBookWantDel("index"),t.myBookWantDel("version"))})}},v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view-box",{attrs:{"body-padding-top":"46px"}},[i("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"上传习题册"}},slot:"header"},[i("i",{staticClass:"icon iconfont icon-upload",staticStyle:{"font-size":"22px"},attrs:{slot:"right"},on:{click:t._upload},slot:"right"})]),t._v(" "),i("div",[i("div",{staticStyle:{background:"#fff",padding:"1rem 0"}},[i("group-title",{staticStyle:{"margin-top":"0"}},[t._v("请按照示例上传习题册封面和版次印")]),t._v(" "),i("flexbox",{staticStyle:{padding:".5rem 0"},attrs:{wrap:"wrap",align:"baseline"}},[i("flexbox-item",{attrs:{span:1}}),t._v(" "),i("flexbox-item",{attrs:{span:4},nativeOn:{click:function(e){t._show(0)}}},[i("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.small[0],expression:"small[0]",arg:"background-image"}],staticStyle:{height:"160px","background-size":"100% 100%"}})]),t._v(" "),i("flexbox-item",{attrs:{span:1}}),t._v(" "),i("flexbox-item",{attrs:{span:4},nativeOn:{click:function(e){t._show(1)}}},[i("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.small[1],expression:"small[1]",arg:"background-image"}],staticStyle:{height:"160px","background-size":"100% 100%"}})])],1),t._v(" "),i("flexbox",{attrs:{wrap:"wrap",align:"baseline"}},[i("flexbox-item",{attrs:{span:1}}),t._v(" "),i("flexbox-item",{attrs:{span:4}},[t.myBookWant.index?i("div",{staticClass:"photo"},[i("div",{staticStyle:{"text-align":"center",height:"160px","background-size":"100% 100%"},style:"background-image:url("+t.myBookWant.index+")"}),t._v(" "),i("i",{staticClass:"icon iconfont icon-error",staticStyle:{"font-size":"30px",position:"absolute",left:"5.4rem",top:"-1.2rem"},on:{click:function(e){t._del("index")}}})]):i("div",{staticClass:"photo",on:{click:function(e){t._add("index")}}},[i("div",{staticClass:"plus"},[i("b",[t._v("+")])])])]),t._v(" "),i("flexbox-item",{attrs:{span:1}}),t._v(" "),i("flexbox-item",{attrs:{span:4}},[t.myBookWant.version?i("div",{staticClass:"photo"},[i("div",{staticStyle:{"text-align":"center",height:"160px","background-size":"100% 100%"},style:"background-image:url("+t.myBookWant.version+")"}),t._v(" "),i("i",{staticClass:"icon iconfont icon-error",staticStyle:{"font-size":"30px",position:"absolute",left:"5.4rem",top:"-1.2rem"},on:{click:function(e){t._del("version")}}})]):i("div",{staticClass:"photo",on:{click:function(e){t._add("version")}}},[i("div",{staticClass:"plus"},[i("b",[t._v("+")])])])])],1)],1),t._v(" "),i("p",{staticClass:"notice"},[t._v("我们会尽快上架该练习册，请注意查看消息通知，感谢您得支持~")])]),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("previewer",{ref:"previewer",attrs:{list:t.list,options:t.options}})],1)],1)},x=[],h={render:v,staticRenderFns:x},b=h,y=i("VU/8"),w=o,k=y(g,b,!1,w,"data-v-40d4e218",null);e.default=k.exports},a1uz:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"\n.photo[data-v-40d4e218] {\n  position: relative;\n  margin-top: 10px;\n}\n.photo .plus[data-v-40d4e218] {\n  text-align: center;\n  height: 160px;\n  width: 6.2rem;\n  border: 1px solid #ccc;\n  font-size: 3rem;\n  color: #ccc;\n  border-radius: 3px;\n  float: left;\n}\n.notice[data-v-40d4e218] {\n  text-align: center;\n  color: #333;\n  font-size: .7rem;\n  padding: 1rem;\n}\n",""])},diim:function(t,e,i){var o=i("a1uz");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i("rjj0")("58fb0a45",o,!0)}});