webpackJsonp([1],{"1gvL":function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,"\n.homepage .weui_tabbar_label[data-v-54908b89] {\n  font-size: 14px;\n  margin-top: 2px;\n}\n.homepage .weui-tabbar__icon .iconfont[data-v-54908b89] {\n  position: relative;\n  left: 1px;\n  top: -2px;\n}\n.homepage .icon-active[data-v-54908b89] {\n  color: #4cc0be;\n}\n.assembleCount[data-v-54908b89] {\n  position: fixed;\n  background: #4cc0be;\n  color: #fff;\n  font-size: .9rem;\n  height: 3.5rem;\n  width: 3.5rem;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: .5rem .75rem;\n  border-radius: 50%;\n  bottom: 10%;\n  right: 5%;\n  -webkit-box-shadow: 2px 2px 7px #4cc0be;\n          box-shadow: 2px 2px 7px #4cc0be;\n  text-align: center;\n}\n",""])},"6KVF":function(t,e,o){var a=o("1gvL");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("80fc2e40",a,!0)},"cO/V":function(t,e,o){"use strict";function a(t){o("6KVF")}Object.defineProperty(e,"__esModule",{value:!0});var n=o("Dd8w"),s=o.n(n),i=o("ABCa"),r=o("UIMx"),c=o("dgEa"),d=o("1sNz"),u=o("NYxO"),m={name:"assemble",components:{XHeader:i.a,Tabbar:r.a,TabbarItem:c.a,ViewBox:d.a},computed:s()({},Object(u.mapGetters)(["Route","AssembleCamera","AssembleGood","AssembleRemember"])),methods:{_toPage:function(t){this.$router.replace({name:t,params:{name:this.Route.params.name,chapterId:this.Route.params.chapterId,subject:this.Route.params.subject}})}}},l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"100%"}},[o("view-box",{ref:"viewBox",attrs:{"body-padding-top":"46px","body-padding-bottom":"50px"}},[o("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header"},slot:"header"},[o("x-header",{attrs:{"left-options":{backText:this.$route.params.name}}},["statisticsGood"===t.$route.name?o("div",{attrs:{slot:"right"},slot:"right"},[o("i",{staticClass:"icon iconfont icon-filter",staticStyle:{padding:"10px",margin:"0 -10px 0 0"},on:{click:function(e){t.$router.push({name:"statisticsGood_options"})}}})]):t._e(),t._v(" "),"statisticsRemember"===t.$route.name?o("div",{attrs:{slot:"right"},slot:"right"},[o("i",{staticClass:"icon iconfont icon-filter",staticStyle:{padding:"10px",margin:"0 -10px 0 0"},on:{click:function(e){t.$router.push({name:"statisticsRemember_options"})}}})]):t._e()])],1),t._v(" "),o("keep-alive",[o("router-view")],1),t._v(" "),o("tabbar",{staticClass:"homepage",staticStyle:{"z-index":"2"},attrs:{slot:"bottom"},slot:"bottom"},[o("tabbar-item",{attrs:{selected:"statisticsRemember"===t.$route.name},nativeOn:{click:function(e){t._toPage("statisticsRemember")}}},[o("i",{class:"icon iconfont icon-jinrulianxi "+("statisticsRemember"===t.$route.name?"icon-active":""),attrs:{slot:"icon"},slot:"icon"}),t._v(" "),o("span",{attrs:{slot:"label"},slot:"label"},[t._v("记错题")])]),t._v(" "),o("tabbar-item",{attrs:{selected:"statisticsCamera"===t.$route.name},nativeOn:{click:function(e){t._toPage("statisticsCamera")}}},[o("i",{class:"icon iconfont icon-camera "+("statisticsCamera"===t.$route.name?"icon-active":""),attrs:{slot:"icon"},slot:"icon"}),t._v(" "),o("span",{attrs:{slot:"label"},slot:"label"},[t._v("拍错题")])]),t._v(" "),o("tabbar-item",{attrs:{selected:"statisticsGood"===t.$route.name},nativeOn:{click:function(e){t._toPage("statisticsGood")}}},[o("i",{class:"icon iconfont icon-bag1 "+("statisticsGood"===t.$route.name?"icon-active":""),attrs:{slot:"icon"},slot:"icon"}),t._v(" "),o("span",{attrs:{slot:"label"},slot:"label"},[t._v("精选练习")])])],1)],1),t._v(" "),"statisticsRemember"===t.$route.name?[o("div",{staticClass:"assembleCount",on:{click:function(e){t.$router.push({name:"statisticsRemember_assemble",params:{subject:t.$route.params.subject,textbookId:t.$route.params.textbookId}})}}},[t._v("\n      已选"),o("br"),t._v(t._s(t.AssembleRemember.count)+"\n    ")])]:"statisticsCamera"===t.$route.name?[o("div",{staticClass:"assembleCount",on:{click:function(e){t.$router.push({name:"statisticsCamera_assemble",params:{subject:t.$route.params.subject,textbookId:t.$route.params.textbookId}})}}},[t._v("\n      已选"),o("br"),t._v(t._s(t.AssembleCamera.count)+"\n    ")])]:"statisticsGood"===t.$route.name?[o("div",{staticClass:"assembleCount",on:{click:function(e){t.$router.push({name:"statisticsGood_assemble",params:{subject:t.$route.params.subject,textbookId:t.$route.params.textbookId}})}}},[t._v("\n      已选"),o("br"),t._v(t._s(t.AssembleGood.count)+"\n    ")])]:t._e()],2)},b=[],f={render:l,staticRenderFns:b},S=f,p=o("VU/8"),x=a,T=p(m,S,!1,x,"data-v-54908b89",null);e.default=T.exports},fb1V:function(t,e,o){"use strict";function a(t){var e="";return t.indexOf("math")>=0?e="math":t.indexOf("physics")>=0?e="physics":t.indexOf("chemistry")>=0&&(e="chemistry"),e}Object.defineProperty(e,"__esModule",{value:!0});var n={};o.d(n,"StatisticsMath",function(){return h}),o.d(n,"StatisticsPhysics",function(){return g}),o.d(n,"StatisticsChemistry",function(){return I});var s={};o.d(s,"getStatistics",function(){return E}),o.d(s,"clearStatistics",function(){return k});var i={};o.d(i,"AssembleRemember",function(){return w}),o.d(i,"AssembleGood",function(){return R}),o.d(i,"AssembleCamera",function(){return j});var r={};o.d(r,"getStatisticsRemember",function(){return $}),o.d(r,"getStatisticsRememberAssemble",function(){return B}),o.d(r,"setStatisticsRememberAssembleUpdate",function(){return L}),o.d(r,"setStatisticsRememberOptions",function(){return G}),o.d(r,"getStatisticsCamera",function(){return D}),o.d(r,"getStatisticsCameraAssemble",function(){return P}),o.d(r,"setStatisticsCameraAssembleUpdate",function(){return U}),o.d(r,"getStatisticsGood",function(){return N}),o.d(r,"getStatisticsGoodAssemble",function(){return z}),o.d(r,"setStatisticsGoodOptions",function(){return V}),o.d(r,"setStatisticsGoodAssembleUpdate",function(){return F}),o.d(r,"setStatisticsGoodAssembleList",function(){return W}),o.d(r,"setStatisticsGoodAssembleOrder",function(){return Y}),o.d(r,"setStatisticsScroll",function(){return H}),o.d(r,"clearStatisticsAssemble",function(){return K}),o.d(r,"clearStatisticsDownload",function(){return X}),o.d(r,"getStatisticsAssemblUrl",function(){return Z}),o.d(r,"getStatisticsComment",function(){return q});var c,d,u=o("Dd8w"),m=o.n(u),l=o("ABCa"),b=o("1sNz"),f=o("odqc"),S=o("Znkm"),p=o("NYxO"),x=o("bOdI"),T=o.n(x),h=function(t){return t.index.math},g=function(t){return t.index.physics},I=function(t){return t.index.chemistry},_=o("//Fk"),A=o.n(_),v=o("YEn3"),E=function(t,e){var o=t.rootState,n=t.commit;return new A.a(function(t,s){Object(v.a)({method:"get",url:"statistics",params:{token:o.common.user.token,subject:a(o.route.name),textbookId:e.textbookId}}).then(function(e){n("STATISTICS",{subject:a(o.route.name),data:e.data.data}),t(e)}).catch(function(t){s(t)})})},k=function(t){var e=t.rootState;(0,t.commit)("STATISTICS_RESET",{subject:a(e.route.name)})},C={index:{math:[{}],physics:[{}],chemistry:[{}]}},y=(c={},T()(c,"STATISTICS",function(t,e){t.index[e.subject.toString()]=e.data}),T()(c,"STATISTICS_RESET",function(t,e){t.index[e.subject.toString()]=[]}),c),O={state:C,mutations:y,getters:n,actions:s},w=function(t){return t.remember},R=function(t){return t.good},j=function(t){return t.camera},M=o("7+uW"),$=function(t,e){var o=t.state,a=t.rootState,n=t.commit;return new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/remember/list",params:{token:a.common.user.token,offset:o.remember.index.offset,options:{textbookId:a.route.params.textbookId,subject:a.route.params.subject,chapterId:a.route.params.chapterId,degree:o.remember.index.options.degree}}}).then(function(e){n("STATISTICS_REMEMBER",{data:e.data.data}),t(e)})})},B=function(t,e){var o=(t.state,t.rootState),a=t.commit;return new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/remember/assemble",params:{token:o.common.user.token,textbookId:o.route.params.textbookId,subject:o.route.params.subject}}).then(function(e){a("STATISTICS_REMEMBER_ASSEMBLE",{data:e.data.data}),t(e)})})},L=function(t,e){var o=t.rootState,a=t.commit;return M.default.$vux.loading.show({text:"请稍候"}),new A.a(function(t,n){Object(v.a)({method:"post",url:"statistics/remember/assemble/update",data:{token:o.common.user.token,id:e.id,textbookId:o.route.params.textbookId,subject:o.route.params.subject}}).then(function(o){M.default.$vux.loading.hide(),M.default.$vux.toast.show({text:o.data.msg,type:"text",time:1e3,position:"bottom"}),a("STATISTICS_REMEMBER_ASSEMBLE_UPDATE",{index:e.index,data:o.data.data}),t(o)}).catch(function(t){M.default.$vux.loading.hide(),n(t)})})},G=function(t,e){var o=t.commit;o("STATISTICS_ASSEMBLE_RESET",{type:"remember"}),o("STATISTICS_REMEMBER_OPTIONS",{degree:e.degree})},D=function(t,e){var o=t.state,a=t.rootState,n=t.commit;return new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/camera/list",params:{token:a.common.user.token,offset:o.camera.index.offset,options:{subject:a.route.params.subject,textbookId:a.route.params.textbookId,chapterId:a.route.params.chapterId}}}).then(function(e){n("STATISTICS_CAMERA",{data:e.data.data}),t(e)})})},P=function(t,e){var o=(t.state,t.rootState),a=t.commit;return new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/camera/assemble",params:{token:o.common.user.token,textbookId:o.route.params.textbookId,subject:o.route.params.subject}}).then(function(e){a("STATISTICS_CAMERA_ASSEMBLE",{data:e.data.data}),t(e)})})},U=function(t,e){var o=t.rootState,a=t.commit;return M.default.$vux.loading.show({text:"请稍候"}),new A.a(function(t,n){Object(v.a)({method:"post",url:"statistics/camera/assemble/update",data:{token:o.common.user.token,id:e.id,textbookId:o.route.params.textbookId,subject:o.route.params.subject}}).then(function(o){M.default.$vux.loading.hide(),a("STATISTICS_CAMERA_ASSEMBLE_UPDATE",{data:o.data.data,index:e.index}),M.default.$vux.toast.show({text:o.data.msg,type:"text",time:1e3,position:"bottom"}),t(o)}).catch(function(t){M.default.$vux.loading.hide(),n(t)})})},N=function(t,e){var o=t.state,a=t.rootState,n=t.commit;return new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/good/list",params:{token:a.common.user.token,offset:o.good.index.offset,options:{subject:a.route.params.subject,chapterId:a.route.params.chapterId,textbookId:a.route.params.textbookId,type:o.good.index.options.type,degree:o.good.index.options.degree}}}).then(function(e){n("STATISTICS_GOOD",{data:e.data.data}),t(e)})})},z=function(t,e){var o=(t.state,t.rootState),a=t.commit;return new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/good/assemble",params:{token:o.common.user.token,subject:o.route.params.subject,textbookId:o.route.params.textbookId}}).then(function(e){a("STATISTICS_GOOD_ASSEMBLE",{data:e.data.data}),t(e)})})},V=function(t,e){var o=t.commit;o("STATISTICS_ASSEMBLE_RESET",{type:"good"}),o("STATISTICS_GOOD_OPTIONS",{type:e.type,degree:e.degree})},F=function(t,e){var o=t.rootState,a=t.commit;return M.default.$vux.loading.show({text:"请稍候"}),new A.a(function(t,n){Object(v.a)({method:"post",url:"statistics/good/assemble/update",data:{token:o.common.user.token,subject:o.route.params.subject,textbookId:o.route.params.textbookId,id:e.id,type:e.type}}).then(function(o){M.default.$vux.loading.hide(),a("STATISTICS_GOOD_ASSEMBLE_UPDATE",{from:e.from,index:e.index,data:o.data.data}),M.default.$vux.toast.show({text:o.data.msg,type:"text",time:1e3,position:"bottom"}),t(o)})})},W=function(t,e){for(var o=t.state,a=t.rootState,n=(t.commit,[]),s=o.good.download,i=0;i<s.length;i++)for(var r=0;r<s[i].list.length;r++)n.push({id:s[i].list[r].exercisesId,form:s[i].list[r].form});return M.default.$vux.loading.show({text:"请稍候"}),new A.a(function(t,e){Object(v.a)({method:"get",url:"statistics/good/assemble/order",params:{token:a.common.user.token,subject:a.route.params.subject,textbookId:a.route.params.textbookId,ids:n}}).then(function(e){M.default.$vux.loading.hide(),t(e)}).catch(function(t){M.default.$vux.loading.hide(),e(t)})})},Y=function(t,e){var o=t.state,a=t.commit;0===e.index&&"up"===e.type?M.default.$vux.toast.show({text:"不能再上移了",type:"text",time:1e3,position:"bottom"}):e.index===o.good.download[e.pindex].list.length-1&&"down"===e.type?M.default.$vux.toast.show({text:"不能再下移了",type:"text",time:1e3,position:"bottom"}):a("STATISTICS_GOOD_ASSEMBLE_ORDER",{type:e.type,index:e.index,pindex:e.pindex})},H=function(t,e){(0,t.commit)("STATISTICS_SCROLL",{type:e.type,height:e.height})},K=function(t,e){(0,t.commit)("STATISTICS_ASSEMBLE_RESET",{type:e.type})},X=function(t,e){(0,t.commit)("STATISTICS_ASSEMBLE_DOWNLOAD_RESET",{type:e.type})},Z=function(t,e){var o=t.rootState,a=t.commit;return M.default.$vux.loading.show({text:"请稍候"}),new A.a(function(t,n){Object(v.a)({method:"post",url:"statistics/assemble/download",data:{token:o.common.user.token,subject:o.route.params.subject,textbookId:o.route.params.textbookId,type:e.type}}).then(function(o){M.default.$vux.loading.hide(),a("STATISTICS_ASSEMBLE_RESET",{type:e.type}),t(o)}).catch(function(t){M.default.$vux.loading.hide(),n(t)})})},q=function(t,e){var o=t.rootState,a=t.commit;return M.default.$vux.loading.show({text:"请稍候"}),new A.a(function(t,n){Object(v.a)({method:"post",url:"comment",data:{token:o.common.user.token,chapterId:e.chapterId,type:e.type,errorComment:e.errorComment,id:e.id}}).then(function(o){M.default.$vux.loading.hide(),a("STATISTICS_COMMENT",{type:e.type,errorComment:e.errorComment,index:e.index}),t(o)}).catch(function(t){M.default.$vux.loading.hide(),n(t)})})},J={remember:{index:{options:{degree:0},scroll:0,list:[],offset:"",reset:!0},download:[],count:0},camera:{index:{list:[],scroll:0,offset:"",reset:!0},download:[],count:0},good:{index:{options:{degree:0,type:0},scroll:0,list:[],reset:!0,offset:""},similarity:{list:[],offset:""},download:[],count:0}},Q=J,tt=(d={},T()(d,"STATISTICS_REMEMBER",function(t,e){t.remember.count=e.data.count,0!==e.data.list.length&&(t.remember.index.reset=!1,t.remember.index.list=t.remember.index.list?t.remember.index.list.concat(e.data.list):e.data.list,t.remember.index.offset=e.data.offset)}),T()(d,"STATISTICS_REMEMBER_OPTIONS",function(t,e){t.remember.index.options={degree:e.degree},t.remember.index.reset=!0}),T()(d,"STATISTICS_REMEMBER_ASSEMBLE",function(t,e){t.remember.download=e.data.list,t.remember.count=e.data.count}),T()(d,"STATISTICS_REMEMBER_ASSEMBLE_UPDATE",function(t,e){t.remember.index.list[e.index].isAssembly=e.data.isAssembly,e.data.isAssembly?++t.remember.count:--t.remember.count}),T()(d,"STATISTICS_CAMERA",function(t,e){t.camera.count=e.data.count,0!==e.data.list.length&&(t.camera.index.reset=!1,t.camera.index.list=t.camera.index.list?t.camera.index.list.concat(e.data.list):e.data.list,t.camera.index.offset=e.data.offset)}),T()(d,"STATISTICS_CAMERA_ASSEMBLE",function(t,e){t.camera.download=e.data.list,t.camera.count=e.data.count}),T()(d,"STATISTICS_CAMERA_ASSEMBLE_UPDATE",function(t,e){t.camera.index.list[e.index].isAssembly=e.data.isAssembly,e.data.isAssembly?++t.camera.count:--t.camera.count}),T()(d,"STATISTICS_GOOD",function(t,e){t.good.count=e.data.count,0!==e.data.list.length&&(t.good.index.list=t.good.index.list?t.good.index.list.concat(e.data.list):e.data.list,t.good.index.offset=e.data.offset,t.good.index.reset=!1)}),T()(d,"STATISTICS_GOOD_OPTIONS",function(t,e){t.good.index.options={degree:e.degree,type:e.type},t.good.index.reset=!0}),T()(d,"STATISTICS_GOOD_ASSEMBLE",function(t,e){t.good.download=e.data.block,t.good.count=e.data.count}),T()(d,"STATISTICS_GOOD_ASSEMBLE_UPDATE",function(t,e){t.good.index.list[e.index].isAssembly=e.data.isAssembly,e.data.isAssembly?++t.good.count:--t.good.count}),T()(d,"STATISTICS_GOOD_ASSEMBLE_ORDER",function(t,e){var o=t.good.download[e.pindex].list;"up"===e.type?o[e.index]=o.splice(e.index-1,1,o[e.index])[0]:"down"===e.type?o[e.index]=o.splice(e.index+1,1,o[e.index])[0]:o.splice(e.index,1)}),T()(d,"STATISTICS_SCROLL",function(t,e){t[e.type].index.scroll=e.height}),T()(d,"STATISTICS_COMMENT",function(t,e){t[e.type].index.list[e.index].errorComment=e.errorComment}),T()(d,"STATISTICS_ASSEMBLE_DOWNLOAD_RESET",function(t,e){switch(e.type){case"camera":t.camera.download=[],t.camera.index.reset=!1;break;case"remember":t.remember.download=[],t.remember.index.reset=!1;break;case"good":t.good.download=[],t.good.index.reset=!1}}),T()(d,"STATISTICS_ASSEMBLE_RESET",function(t,e){switch(e.type){case"camera":t.camera={index:{list:[],scroll:0,offset:"",reset:!0},download:[],count:0};break;case"remember":t.remember={index:{options:{degree:0},scroll:0,list:[],offset:"",reset:!0},download:[],count:0};break;case"good":t.good={index:{options:{type:0,degree:0},scroll:0,list:[],offset:"",reset:!0},download:[],count:0}}}),d),et={state:Q,mutations:tt,getters:i,actions:r},ot=o("olkN"),at={name:"index",components:{XHeader:l.a,ViewBox:b.a,Tab:f.a,TabItem:S.a},computed:m()({},Object(p.mapGetters)(["Route","User"])),beforeCreate:function(){ot.a.registerModule("statistics",m()({},O)),ot.a.registerModule("assemble",m()({},et))}},nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view-box",{ref:"statistics",attrs:{"body-padding-top":"100px"}},[o("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header"},slot:"header"},[o("x-header",{attrs:{"left-options":{backText:"错题归纳"}}}),t._v(" "),o("tab",[t.User.subjectType.indexOf("math")>=0?o("tab-item",{attrs:{selected:"statistics_math"===t.Route.name},nativeOn:{click:function(e){t.$router.replace("math")}}},[t._v("数学")]):t._e(),t._v(" "),t.User.subjectType.indexOf("physics")>=0?o("tab-item",{attrs:{selected:"statistics_physics"===t.Route.name},nativeOn:{click:function(e){t.$router.replace("physics")}}},[t._v("物理")]):t._e()],1)],1),t._v(" "),o("div",[o("keep-alive",[o("router-view")],1)],1)])},st=[],it={render:nt,staticRenderFns:st},rt=it,ct=o("VU/8"),dt=ct(at,rt,!1,null,null,null);e.default=dt.exports}});