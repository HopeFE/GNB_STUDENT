webpackJsonp([6],{XWeg:function(e,n,t){n=e.exports=t("FZ+f")(!1),n.push([e.i,"\n.input_right .weui-input {\n  text-align: right;\n}\n.demo2-item {\n  width: 27px;\n  height: 27px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  border-radius: 50%;\n  line-height: 23px;\n  text-align: center;\n}\n.demo2-item-selected {\n  border: 1px solid #4cc0be;\n  color: #4cc0be;\n}\n.weui-cell_select .weui-select {\n  direction: rtl !important;\n}\n",""])},fzOP:function(e,n,t){var i=t("XWeg");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("rjj0")("39045086",i,!0)},shXn:function(e,n,t){"use strict";function i(e){t("fzOP")}Object.defineProperty(n,"__esModule",{value:!0});var l=t("Xxa5"),o=t.n(l),r=t("exGp"),a=t.n(r),s=t("Dd8w"),c=t.n(s),u=t("ABCa"),p=t("rHil"),d=t("1sNz"),h=t("pDNl"),f=t("/0UN"),m=t("hGvq"),x=t("wwIJ"),g=t("1DHf"),w=t("Msp2"),b=t("NYxO"),v={name:"update",components:{XHeader:u.a,Group:p.a,ViewBox:d.a,XInput:h.a,Checker:f.a,CheckerItem:m.a,Selector:x.a,Cell:g.a,Actionsheet:w.a},computed:c()({},Object(b.mapGetters)(["User"]),{mathList:function(){var e=[];return this.User.textbookAll.math.forEach(function(n,t){e.push({key:n.id.toString()||"",value:n.name.toString()||""})}),e},physicsList:function(){var e=[];return this.User.textbookAll.physics.forEach(function(n,t){e.push({key:n.id.toString()||"",value:n.name.toString()||""})}),e},chemistryList:function(){var e=[];return this.User.textbookAll.chemistry.forEach(function(n,t){e.push({key:n.id.toString()||"",value:n.name.toString()||""})}),e}}),data:function(){return{name:"",sex:0,school:"",year:"",math:"",physics:"",chemistry:"",list:[{key:"7",value:"七年级"},{key:"8",value:"八年级"},{key:"9",value:"九年级"},{key:"10",value:"高一"},{key:"11",value:"高二"},{key:"12",value:"高三"}],show:!1,menus:{menu1:"拍照",menu2:"选择照片"}}},methods:c()({},Object(b.mapActions)(["setHeadImg","setUserInfo","getTextbookVersion","getUserInfo"]),{_getImage:function(){var e=this;plus.camera.getCamera().captureImage(function(n){plus.io.resolveLocalFileSystemURL(n,function(n){e.setHeadImg(n.toLocalURL()),e.$router.push({name:"settings_photo"})})})},_galleryImgs:function(){var e=this;plus.gallery.pick(function(n){e.setHeadImg(n.files[0]),e.$router.push({name:"settings_photo"})},function(){e.$vux.toast.show({text:"您已取消选择图片",type:"text",time:1500,position:"bottom"})},{filter:"image",multiple:!0})},_menusClick:function(e){"menu1"===e?this._getImage():this._galleryImgs()}}),watch:{year:function(e){var n=this;this.getTextbookVersion({grade:e}).then(function(){n.math=n.User.textbookAll.math[0].id,n.physics=n.User.textbookAll.subjectType.indexOf("physics")>=0?n.User.textbookAll.physics[0].id:"",n.chemistry=n.User.textbookAll.subjectType.indexOf("chemistry")>=0?n.User.textbookAll.chemistry[0].id:""})}},beforeRouteEnter:function(e,n,t){t(function(e){e.name=e.User.name,e.school=e.User.school,e.year=e.User.year,e.sex=e.User.sex})},beforeRouteLeave:function(e,n,t){var i=this;if("user"===e.name)return a()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.setUserInfo({name:i.name,sex:i.sex,school:i.school,year:i.year,subject:{math:i.math,physics:i.physics,chemistry:i.chemistry}});case 2:return i.year!==i.User.year&&plus.runtime.restart(),e.next=5,i.getUserInfo();case 5:t();case 6:case"end":return e.stop()}},e,i)}))();t()}},_=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("view-box",{attrs:{"body-padding-top":"46px"}},[t("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"修改资料"}},slot:"header"}),e._v(" "),t("group",{attrs:{gutter:"0"}},[t("cell",{attrs:{title:"头像"},nativeOn:{click:function(n){e.show=!e.show}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.User.headImg,expression:"User.headImg"}],attrs:{slot:"default",width:"60",height:"60"},slot:"default"})]),e._v(" "),t("x-input",{staticClass:"input_right",attrs:{title:"姓名"},model:{value:e.name,callback:function(n){e.name=n},expression:"name"}}),e._v(" "),t("cell",{attrs:{title:"性别"}},[t("checker",{attrs:{slot:"default","default-item-class":"demo2-item","selected-item-class":"demo2-item-selected"},slot:"default",model:{value:e.sex,callback:function(n){e.sex=n},expression:"sex"}},[t("checker-item",{attrs:{value:"1"}},[e._v("男")]),e._v(" "),t("checker-item",{attrs:{value:"0"}},[e._v("女")])],1)],1)],1),e._v(" "),t("group",[t("selector",{attrs:{title:"年级",options:e.list},model:{value:e.year,callback:function(n){e.year=n},expression:"year"}}),e._v(" "),t("x-input",{staticClass:"input_right",attrs:{title:"学校"},model:{value:e.school,callback:function(n){e.school=n},expression:"school"}})],1),e._v(" "),t("group",[e.math?t("selector",{attrs:{title:"数学",options:e.mathList},model:{value:e.math,callback:function(n){e.math=n},expression:"math"}}):e._e()],1),e._v(" "),t("group",[t("cell",{attrs:{title:"修改密码",link:{name:"settings_pwd"},"is-link":""}})],1),e._v(" "),t("actionsheet",{attrs:{menus:e.menus},on:{"on-click-menu":e._menusClick},model:{value:e.show,callback:function(n){e.show=n},expression:"show"}})],1)},y=[],k={render:_,staticRenderFns:y},C=k,D=t("VU/8"),U=i,I=D(v,C,!1,U,null,null);n.default=I.exports},wwIJ:function(e,n,t){"use strict";function i(e){t("yD7D")}var l=t("pFYg"),o=t.n(l),r=t("NXHL"),a=t.n(r),s=t("KRg4"),c=t("wmxo"),u=t.n(c),p=function(e,n){var t=a()(n,function(n){return n.key===e});return t?t.value:e},d={name:"selector",mixins:[s.a],created:function(){void 0!==this.value&&(this.currentValue=this.value)},beforeMount:function(){this.isIOS=/iPad|iPhone|iPod/.test(window.navigator.userAgent)},computed:{fixIos:function(){return!this.placeholder&&this.isEmptyValue(this.value)&&this.isIOS&&this.title},color:function(){return this.showPlaceholder?"#A9A9A9":""},processOptions:function(){var e=this;if(!this.options.length)return[];var n="object"===o()(this.options[0]);return n&&!this.valueMap?this.options:n&&this.valueMap?this.options.map(function(n){return{key:n[e.valueMap[0]],value:n[e.valueMap[1]]}}):this.options.map(function(e){return{key:e,value:e}})},showPlaceholder:function(){return!(!this.isEmptyValue(this.value)||!this.placeholder)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{isEmptyValue:function(e){return void 0===e||""===e||null===e},cleanStyle:u.a,getFullValue:function(){var e=this;return this.value&&this.options.length?"object"!==o()(this.options[0])?this.value:this.valueMap?this.options.filter(function(n){return n[e.valueMap[0]]===e.value}):this.options.filter(function(n){return n.key===e.value}):null}},filters:{findByKey:p},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},props:{title:String,direction:String,options:{type:Array,required:!0},name:String,placeholder:String,readonly:Boolean,value:[Boolean,String,Number,Object],valueMap:{type:Array,validator:function(e){return!(!e.length||2!==e.length)}}},data:function(){return{currentValue:"",isIOS:!1}}},h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vux-selector weui-cell",class:{"weui-cell_select":!e.readonly,"weui-cell_select-after":e.title}},[e.title?t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label",class:e.labelClass,style:e.cleanStyle({width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight}),attrs:{for:"vux-selector-"+e.uuid}},[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.readonly?t("div",{staticClass:"weui-cell__ft vux-selector-readonly"},[e._v("\n    "+e._s(e._f("findByKey")(e.value,e.processOptions))+"\n  ")]):t("div",{staticClass:"weui-cell__bd"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-select",staticStyle:{color:"red"},style:e.cleanStyle({direction:e.direction,color:e.color}),attrs:{id:"vux-selector-"+e.uuid,name:e.name},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentValue=n.target.multiple?t:t[0]}}},[e.showPlaceholder?t("option",{domProps:{value:null===e.value?"null":"",selected:e.isEmptyValue(e.value)&&!!e.placeholder}},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.fixIos?t("option",{attrs:{disabled:""}}):e._e(),e._v(" "),e._l(e.processOptions,function(n){return t("option",{domProps:{value:n.key}},[e._v(e._s(n.value))])})],2)])])},f=[],m={render:h,staticRenderFns:f},x=m,g=t("VU/8"),w=i,b=g(d,x,!1,w,null,null);n.a=b.exports},y4kv:function(e,n,t){n=e.exports=t("FZ+f")(!1),n.push([e.i,'/**\n* actionsheet\n*/\n/**\n* datetime\n*/\n/**\n* tabbar\n*/\n/**\n* tab\n*/\n/**\n* dialog\n*/\n/**\n* x-number\n*/\n/**\n* checkbox\n*/\n/**\n* check-icon\n*/\n/**\n* Cell\n*/\n/**\n* Mask\n*/\n/**\n* Range\n*/\n/**\n* Tabbar\n*/\n/**\n* Header\n*/\n/**\n* Timeline\n*/\n/**\n* Switch\n*/\n/**\n* Button\n*/\n/**\n* swipeout\n*/\n/**\n* Cell\n*/\n/**\n* Badge\n*/\n/**\n* Popover\n*/\n/**\n* Button tab\n*/\n/* alias */\n/**\n* Swiper\n*/\n/**\n* checklist\n*/\n/**\n* popup-picker\n*/\n/**\n* popup\n*/\n/**\n* popup-header\n*/\n/**\n* form-preview\n*/\n/**\n* load-more\n*/\n/**\n* sticky\n*/\n/**\n* group\n*/\n/**\n* toast\n*/\n/**\n* icon\n*/\n/**\n* calendar\n*/\n/**\n* week-calendar\n*/\n/**\n* search\n*/\n/**\n* radio\n*/\n/**\n* loadmore\n*/\n.weui-cell_access {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  color: inherit;\n}\n.weui-cell_access:active {\n  background-color: #ECECEC;\n}\n.weui-cell_access .weui-cell__ft {\n  padding-right: 13px;\n  position: relative;\n}\n.weui-cell_access .weui-cell__ft:after {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  margin-top: -4px;\n  right: 2px;\n}\n.weui-cell_link {\n  color: #586C94;\n  font-size: 14px;\n}\n.weui-cell_link:first-child:before {\n  display: block;\n}\n.weui-cell_access.vux-cell-box {\n  padding-right: 13px;\n  position: relative;\n}\n.weui-cell_access.vux-cell-box:after {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  margin-top: -4px;\n  right: 17px;\n}\n.weui-cells {\n  margin-top: 1.25em;\n  background-color: #FFFFFF;\n  line-height: 1.5;\n  font-size: 16px;\n  overflow: hidden;\n  position: relative;\n}\n.weui-cells:before {\n  content: " ";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 1px;\n  border-top: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n}\n.weui-cells:after {\n  content: " ";\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 1px;\n  border-bottom: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 100%;\n          transform-origin: 0 100%;\n  -webkit-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n}\n.weui-cells__title {\n  margin-top: 0.77em;\n  margin-bottom: 0.3em;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: #999999;\n  font-size: 14px;\n}\n.weui-cells__title + .weui-cells {\n  margin-top: 0;\n}\n.weui-cells__tips {\n  margin-top: .3em;\n  color: #999999;\n  padding-left: 15px;\n  padding-right: 15px;\n  font-size: 14px;\n}\n.weui-cell {\n  padding: 10px 15px;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.weui-cell:before {\n  content: " ";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 1px;\n  border-top: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n  left: 15px;\n}\n.weui-cell:first-child:before {\n  display: none;\n}\n.weui-cell_primary {\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n.weui-cell__bd {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.weui-cell__ft {\n  text-align: right;\n  color: #999999;\n}\n.vux-cell-justify {\n  height: 1.5em;\n}\n.vux-cell-justify.vux-cell-justify:after {\n  content: ".";\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  height: 0;\n}\n.weui-label {\n  display: block;\n  width: 105px;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.weui-input {\n  width: 100%;\n  border: 0;\n  outline: 0;\n  -webkit-appearance: none;\n  background-color: transparent;\n  font-size: inherit;\n  color: inherit;\n  height: 1.5em;\n  line-height: 1.5;\n}\n.weui-input::-webkit-outer-spin-button,\n.weui-input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.weui-textarea {\n  display: block;\n  border: 0;\n  resize: none;\n  width: 100%;\n  color: inherit;\n  font-size: 1em;\n  line-height: inherit;\n  outline: 0;\n}\n.weui-textarea-counter {\n  color: #B2B2B2;\n  text-align: right;\n}\n.weui-cell_warn .weui-textarea-counter {\n  color: #E64340;\n}\n.weui-toptips {\n  display: none;\n  position: fixed;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  top: 0;\n  left: 0;\n  right: 0;\n  padding: 5px;\n  font-size: 14px;\n  text-align: center;\n  color: #FFF;\n  z-index: 5000;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.weui-toptips_warn {\n  background-color: #E64340;\n}\n.weui-cells_form .weui-cell__ft {\n  font-size: 0;\n}\n.weui-cells_form .weui-icon-warn {\n  display: none;\n}\n.weui-cells_form input,\n.weui-cells_form textarea,\n.weui-cells_form label[for] {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.weui-cell_warn {\n  color: #E64340;\n}\n.weui-cell_warn .weui-icon-warn {\n  display: inline-block;\n}\n.weui-cell_select {\n  padding: 0;\n}\n.weui-cell_select .weui-select {\n  padding-right: 30px;\n}\n.weui-cell_select .weui-cell__bd:after {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  right: 15px;\n  margin-top: -4px;\n}\n.weui-select {\n  -webkit-appearance: none;\n  border: 0;\n  outline: 0;\n  background-color: transparent;\n  width: 100%;\n  font-size: inherit;\n  height: 44px;\n  line-height: 44px;\n  position: relative;\n  z-index: 1;\n  padding-left: 15px;\n}\n.weui-cell_select-before {\n  padding-right: 15px;\n}\n.weui-cell_select-before .weui-select {\n  width: 105px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.weui-cell_select-before .weui-cell__hd {\n  position: relative;\n}\n.weui-cell_select-before .weui-cell__hd:after {\n  content: " ";\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1px;\n  bottom: 0;\n  border-right: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 100% 0;\n          transform-origin: 100% 0;\n  -webkit-transform: scaleX(0.5);\n          transform: scaleX(0.5);\n}\n.weui-cell_select-before .weui-cell__hd:before {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  right: 15px;\n  margin-top: -4px;\n}\n.weui-cell_select-before .weui-cell__bd {\n  padding-left: 15px;\n}\n.weui-cell_select-before .weui-cell__bd:after {\n  display: none;\n}\n.weui-cell_select-after {\n  padding-left: 15px;\n}\n.weui-cell_select-after .weui-select {\n  padding-left: 0;\n}\n.vux-selector-no-padding {\n  padding-left: 0;\n}\n.vux-selector.weui-cell_select {\n  padding: 0;\n}\n.vux-selector.weui-cell_select-after {\n  padding-left: 15px;\n}\n.vux-selector-readonly {\n  width: 100%;\n}\n',""])},yD7D:function(e,n,t){var i=t("y4kv");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("rjj0")("60dd518d",i,!0)}});