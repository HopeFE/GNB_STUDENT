webpackJsonp([54],{cpz7:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("Dd8w"),n=o.n(i),r=o("ABCa"),s=o("1sNz"),a=o("NYxO"),c=o("g7L4"),p=o.n(c),u=(o("ZMQQ"),{components:{XHeader:r.a,ViewBox:s.a},methods:n()({},Object(a.mapActions)(["uploadHeadImg"]),{_img:function(){var t=this;this.uploadHeadImg({img:this.cropper.getCroppedCanvas({width:300,height:300}).toDataURL("image/jpeg")}).then(function(){t.$vux.toast.show({text:"上传成功",type:"text",time:1500,position:"bottom"}),setTimeout(function(){history.back()},500)})}}),data:function(){return{cropper:""}},computed:n()({},Object(a.mapGetters)(["User"]),{userImgBuffer:function(){return this.User.bufferImg}}),activated:function(){this.cropper&&(this.cropper.destroy(),this.cropper=new p.a(this.$refs.photo,{aspectRatio:1,minContainerHeight:document.documentElement.clientHeight-46}))},mounted:function(){this.cropper=new p.a(this.$refs.photo,{aspectRatio:1,minContainerHeight:document.documentElement.clientHeight-46})}}),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view-box",{attrs:{"body-padding-top":"46px"}},[o("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"头像更改"}},slot:"header"},[o("p",{attrs:{slot:"right"},on:{click:t._img},slot:"right"},[t._v("确定")])]),t._v(" "),o("img",{ref:"photo",staticStyle:{width:"100%"},attrs:{src:t.userImgBuffer}})],1)},h=[],m={render:d,staticRenderFns:h},l=m,f=o("VU/8"),g=f(u,l,!1,null,null,null);e.default=g.exports}});